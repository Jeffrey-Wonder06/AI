<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draughts Game</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #f0f8ff, #e6e6e6); /* Gradient background */
            color: #333;
            padding: 20px;
        }

        h1 {
            color: #333;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        #board {
            display: grid;
            grid-template-columns: repeat(10, 50px);
            grid-template-rows: repeat(8, 50px);
            gap: 0;
            border: 4px solid #333; /* Border around the board */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* Shadow for depth */
        }

        .square {
            width: 50px;
            height: 50px;
            box-sizing: border-box;
        }

        .dark {
            background-color: black;
        }

        .light {
            background-color: yellow;
        }

        .piece {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* Shadow for pieces */
        }

        .red {
            background-color: red;
        }

        .blue {
            background-color: blue;
        }

        .king {
            border: 2px solid gold;
        }

        .button-group {
            margin: 20px;
        }

        .button-group button {
            background-color: #007bff; /* Blue color */
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
            transition: background-color 0.3s;
        }

        .button-group button:hover {
            background-color: #0056b3; /* Darker blue */
        }

        #welcome, #game-record, #move-log {
            margin: 20px 0;
            padding: 10px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* Shadow for boxes */
        }

        #welcome {
            font-size: 18px;
            font-weight: bold;
        }

        #move-log p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Draughts Game</h1>
    <div id="welcome"></div>
    <div class="button-group">
        <button id="play-yes">Yes</button>
        <button id="play-no">No</button>
    </div>
    <div id="board"></div>
    <div id="game-record"></div>
    <div id="move-log"></div>

    <script>
        let currentPlayer = 'red';
        let board, squares, pieces;
        let userName = '';
        let gameCount = 0;
        let userWins = 0;
        let aiWins = 0;

        document.getElementById('play-yes').addEventListener('click', () => {
            initBoard();
            document.getElementById('game-record').innerText = `Games Played: ${gameCount}\nUser Wins: ${userWins}\nAI Wins: ${aiWins}`;
            document.getElementById('welcome').innerText = `Welcome ${userName}. Let's play against Wonder!`;
        });

        document.getElementById('play-no').addEventListener('click', () => {
            document.getElementById('welcome').innerText = "Maybe next time!";
        });

        function startGame() {
            userName = prompt("Enter your name:");
            document.getElementById('welcome').innerHTML = `Welcome ${userName}. Would you like to play against Wonder?`;
        }

        function initBoard() {
            board = document.getElementById('board');
            squares = [];
            pieces = [];
            const rows = 8;
            const cols = 10;

            board.style.gridTemplateColumns = `repeat(${cols}, 50px)`;

            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const square = document.createElement('div');
                    square.className = 'square ' + ((row + col) % 2 === 0 ? 'light' : 'dark');
                    square.dataset.row = row;
                    square.dataset.col = col;
                    board.appendChild(square);
                    squares.push(square);
                }
            }

            // Initialize pieces
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    if ((row + col) % 2 !== 0 && (row < 3 || row > 4)) {
                        const piece = document.createElement('div');
                        piece.className = 'piece ' + (row < 3 ? 'red' : 'blue');
                        piece.draggable = true;
                        piece.dataset.row = row;
                        piece.dataset.col = col;
                        piece.addEventListener('dragstart', dragStart);
                        piece.addEventListener('dragend', dragEnd);
                        squares[row * cols + col].appendChild(piece);
                        pieces.push(piece);
                    }
                }
            }

            // Update game count
            gameCount++;
        }

        function dragStart(e) {
            e.dataTransfer.setData('text', `${this.dataset.row},${this.dataset.col}`);
        }

        function dragEnd(e) {
            const [fromRow, fromCol] = e.dataTransfer.getData('text').split(',').map(Number);
            const toSquare = document.elementFromPoint(e.clientX, e.clientY);
            if (toSquare) {
                const toRow = Number(toSquare.dataset.row);
                const toCol = Number(toSquare.dataset.col);

                if (isValidMove(fromRow, fromCol, toRow, toCol)) {
                    movePiece(fromRow, fromCol, toRow, toCol);
                    if (toRow === 0 && currentPlayer === 'red' || toRow === 7 && currentPlayer === 'blue') {
                        promoteToKing(toRow, toCol);
                    }
                    logMove(fromRow, fromCol, toRow, toCol);
                    currentPlayer = currentPlayer === 'red' ? 'blue' : 'red';
                    if (currentPlayer === 'blue') {
                        setTimeout(aiMove, 500); // AI move with delay
                    }
                }
            }
        }

        function isValidMove(fromRow, fromCol, toRow, toCol) {
            const fromSquare = squares[fromRow * 10 + fromCol];
            const toSquare = squares[toRow * 10 + toCol];
            return (Math.abs(fromRow - toRow) === 1 && Math.abs(fromCol - toCol) === 1) && toSquareEmpty(toRow, toCol);
        }

        function toSquareEmpty(row, col) {
            return !squares[row * 10 + col].hasChildNodes();
        }

        function movePiece(fromRow, fromCol, toRow, toCol) {
            const piece = squares[fromRow * 10 + fromCol].removeChild(squares[fromRow * 10 + fromCol].firstChild);
            squares[toRow * 10 + toCol].appendChild(piece);
            piece.dataset.row = toRow;
            piece.dataset.col = toCol;
        }

        function promoteToKing(row, col) {
            const piece = squares[row * 10 + col].firstChild;
            piece.classList.add('king');
        }

        function aiMove() {
            const availableMoves = pieces.filter(piece => piece.classList.contains('blue'));
            if (availableMoves.length === 0) {
                endGame('User'); // User wins if AI has no pieces
                return;
            }

            // Simple AI logic: Move a random piece to an empty diagonal square
            const randomPiece = availableMoves[Math.floor(Math.random() * availableMoves.length)];
            const fromRow = Number(randomPiece.dataset.row);
            const fromCol = Number(randomPiece.dataset.col);

            // Collect possible moves
            const moveOptions = [];
            for (let row = -1; row <= 1; row += 2) {
                for (let col = -1; col <= 1; col += 2) {
                    const toRow = fromRow + row;
                    const toCol = fromCol + col;
                    if (toRow >= 0 && toRow < 8 && toCol >= 0 && toCol < 10 && isValidMove(fromRow, fromCol, toRow, toCol)) {
                        moveOptions.push({ toRow, toCol });
                    }
                }
            }

            if (moveOptions.length > 0) {
                const { toRow, toCol } = moveOptions[Math.floor(Math.random() * moveOptions.length)];
                movePiece(fromRow, fromCol, toRow, toCol);
                logMove(fromRow, fromCol, toRow, toCol, 'AI');

                // End game if AI wins
                if (pieces.filter(piece => piece.classList.contains('blue')).length === 0) {
                    endGame('AI');
                } else {
                    currentPlayer = 'red'; // Return to user
                }
            }
        }

        function endGame(winner) {
            if (winner === 'User') {
                userWins++;
            } else {
                aiWins++;
            }
            updateGameRecord();
            alert(`${winner} wins!`);
            initBoard(); // Reset the board for a new game
        }

        function updateGameRecord() {
            document.getElementById('game-record').innerText = `Games Played: ${gameCount}\nUser Wins: ${userWins}\nAI Wins: ${aiWins}`;
        }

        function logMove(fromRow, fromCol, toRow, toCol, player = 'User') {
            const log = document.getElementById('move-log');
            const move = document.createElement('p');
            move.textContent = `${player} moved from (${fromRow}, ${fromCol}) to (${toRow}, ${toCol})`;
            log.appendChild(move);
        }

        // Start the game
        startGame();
    </script>
</body>
</html>


